# 작업 계획서: 추가 리팩토링

## 작업 목표
추가로 리팩토링할 수 있는 부분을 개선하여 코드를 더 간결하고 유지보수하기 쉽게 만듭니다.

## 발견된 개선 사항

### 1. `on_adjust_change()` 함수의 반복적인 라벨 업데이트
- **현재**: 각 조정 값마다 개별적으로 라벨 업데이트 (약 50줄)
- **개선**: 딕셔너리를 사용하여 자동화 (약 10줄로 감소)

### 2. `create_widgets()` 함수가 너무 김
- **현재**: 약 400줄 이상의 긴 함수
- **개선**: 여러 메서드로 분리
  - `_create_file_selection_ui()`
  - `_create_face_area_settings_ui()`
  - `_create_image_adjustment_ui()`
  - `_create_preview_ui()`

### 3. `extract_face()` 함수의 에러 처리 부분
- **현재**: 에러 처리 로직이 함수 내부에 섞여 있음 (약 180줄)
- **개선**: 에러 처리 부분을 별도 메서드로 분리
  - `_handle_extract_error()`

## 우선순위

### 높음: `on_adjust_change()` 자동화
- 가장 간단하고 효과적
- 즉시 코드 라인 수 감소
- 유지보수성 향상

### 중간: `create_widgets()` 분리
- 함수가 너무 길어서 가독성 저하
- 하지만 기능적으로는 문제 없음

### 낮음: `extract_face()` 에러 처리 분리
- 복잡하지만 동작은 정상
- 나중에 개선 가능

## 작업 단계

### 1단계: `on_adjust_change()` 자동화
- [x] 라벨-변수 매핑 딕셔너리 생성
- [x] 포맷 함수 정의 (퍼센트, 정수 등)
- [x] 반복문으로 자동 업데이트
- **결과**: 약 50줄에서 10줄로 감소 (80% 감소)

### 2단계: `create_widgets()` 분리
- [x] 파일 선택 UI 분리 (`_create_file_selection_ui`)
- [x] 얼굴 영역 설정 UI 분리 (`_create_face_area_settings_ui`)
- [x] 이미지 조정 UI 분리 (`_create_image_adjustment_ui`)
- [x] 팔레트 설정 UI 분리 (`_create_palette_settings_ui`)
- [x] 수동 영역 설정 UI 분리 (`_create_manual_region_ui`)
- [x] 미리보기 UI 분리 (`_create_preview_ui`)
- **결과**: `create_widgets()` 함수가 약 415줄에서 30줄로 감소 (93% 감소)

### 3단계: (선택) `extract_face()` 에러 처리 분리
- [ ] 에러 처리 로직을 별도 메서드로 분리
- **상태**: 보류 (현재 동작 정상, 나중에 개선 가능)

