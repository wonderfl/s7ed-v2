# 얼굴 특징 보정 탭 추가 계획서

**작업 일시**: 2026-01-16  
**작업 목표**: 얼굴 특징 보정에 새로운 탭 3개 추가 (전체 얼굴, 눈썹, 턱선)

## 추가할 탭 목록

### 1. 전체 얼굴 탭
- **목적**: 얼굴 전체 크기, 비율, 대칭 조정
- **기능**:
  - 얼굴 너비 조정 (face_width)
  - 얼굴 높이 조정 (face_height)
  - 얼굴 전체 크기 조정 (통합 슬라이더)
  - 얼굴 대칭 조정 (향후 추가 가능)

### 2. 눈썹 탭
- **목적**: 눈썹을 별도로 편집
- **기능**:
  - 왼쪽 눈썹 두께/높이/각도 조정
  - 오른쪽 눈썹 두께/높이/각도 조정
  - 눈썹 개별 적용 여부
  - 눈썹 위치 조정 (수평/수직)

### 3. 턱선 탭
- **목적**: 턱선 각도, 길이, 모양 조정
- **기능**:
  - 턱선 각도 조정 (jaw_adjustment)
  - 턱선 길이 조정
  - V라인/각진 턱 조정
  - 턱선 위치 조정

### 4. 표정 탭 (향후 추가)
- **목적**: 표정 관련 조정
- **기능**:
  - 미소 강도 조정
  - 눈 크기 조정 (표정 관련)
  - 눈썹 위치 조정 (표정 관련)
- **상태**: 나중에 검토 후 추가

## 구현 단계

### 1단계: 계획서 작성
- [x] 탭 추가 계획서 작성
- [x] 각 탭의 기능 정의

### 2단계: 전체 얼굴 탭 구현
- [x] `_create_face_tab()` 함수 생성
- [x] 얼굴 너비 슬라이더 추가
- [x] 얼굴 높이 슬라이더 추가
- [x] 탭 노트북에 "전체" 탭 추가
- [x] 랜드마크 표시 로직에 "전체" 탭 추가
- [x] 연결선 표시 로직에 "전체" 탭 추가
- [x] 폴리곤 표시 로직에 "전체" 탭 추가

### 3단계: 눈썹 탭 구현
- [x] `_create_eyebrow_tab()` 함수 생성
- [x] 플레이스홀더 메시지 추가 (향후 기능 추가 예정)
- [x] 탭 노트북에 "눈썹" 탭 추가
- [x] 랜드마크 표시 로직에 "눈썹" 탭 추가
- [x] 연결선 표시 로직에 "눈썹" 탭 추가
- [x] 폴리곤 표시 로직에 "눈썹" 탭 추가
- [x] FACEMESH_LEFT_EYEBROW, FACEMESH_RIGHT_EYEBROW 사용

### 4단계: 턱선 탭 구현
- [x] `_create_jaw_tab()` 함수 생성
- [x] 턱선 각도 조정 슬라이더 추가 (jaw_adjustment)
- [x] 탭 노트북에 "턱선" 탭 추가
- [x] 랜드마크 표시 로직에 "턱선" 탭 추가
- [x] 연결선 표시 로직에 "턱선" 탭 추가
- [x] 폴리곤 표시 로직에 "턱선" 탭 추가

### 5단계: 통합 및 테스트
- [x] 모든 탭이 정상적으로 표시되는지 확인
- [x] 각 탭의 슬라이더가 정상 작동하는지 확인
- [x] 랜드마크 표시가 각 탭에 맞게 업데이트되는지 확인
- [x] 연결선 표시가 각 탭에 맞게 업데이트되는지 확인
- [x] 폴리곤 표시가 각 탭에 맞게 업데이트되는지 확인
- [ ] 편집 적용 시 모든 탭의 파라미터가 반영되는지 확인 (기존 로직 사용)

## 기술적 세부사항

### 기존 함수 활용
- `adjust_face_size()`: 얼굴 크기 조정
- `transform_landmarks_for_face_size()`: 얼굴 크기 랜드마크 변형
- `apply_all_adjustments()`: 모든 조정 통합 적용
- `jaw_adjustment`: 턱선 조정 파라미터 (이미 존재)

### 새로운 변수 추가 필요
- `face_width`: 얼굴 너비 비율 (기본값: 1.0)
- `face_height`: 얼굴 높이 비율 (기본값: 1.0)
- `left_eyebrow_*`: 왼쪽 눈썹 조정 파라미터
- `right_eyebrow_*`: 오른쪽 눈썹 조정 파라미터
- `jaw_length`: 턱선 길이 조정 (새로 추가 필요)

### 랜드마크 표시
- "전체" 탭: 모든 랜드마크 표시
- "눈썹" 탭: 왼쪽/오른쪽 눈썹 랜드마크 표시
- "턱선" 탭: 턱선 관련 랜드마크 표시
