"""중심점 이동만으로 눈동자 이동 가능 여부 분석"""
print("=" * 80)
print("중심점 이동만으로 눈동자 이동 가능 여부 분석")
print("=" * 80)

print("\n[현재 상황]")
print("원본 랜드마크: 478개")
print("  - 0-467: 기본 랜드마크")
print("  - 468: 왼쪽 중심점")
print("  - 469-472: 오른쪽 contour (제거 예정)")
print("  - 473: 오른쪽 중심점")
print("  - 474-477: 왼쪽 contour (제거 예정)")

print("\n[방법 3 적용 후]")
print("Delaunay 배열: 472개 (478 - 8 + 2)")
print("  - 0-467: 기본 랜드마크 (그대로)")
print("  - 468: 왼쪽 중심점 (유지)")
print("  - 469: 오른쪽 중심점 (원본 473)")
print("  - 470: 추가된 왼쪽 중앙 포인트 (계산)")
print("  - 471: 추가된 오른쪽 중앙 포인트 (계산)")
print("  - 472-475: 경계 포인트 4개")

print("\n[문제점]")
print("1. 중심점 인덱스(468, 473)만 이동하면:")
print("   - contour 포인트(469-472, 474-477)는 이미 제거됨")
print("   - 중심점만 이동하고 contour는 없음")
print("   - 눈동자 전체가 이동하지 않을 수 있음")

print("\n2. Delaunay Triangulation 관점:")
print("   - 삼각형은 중심점과 주변 포인트를 연결")
print("   - 중심점만 이동하면 주변 삼각형이 변형됨")
print("   - 하지만 contour 포인트가 없으면 눈동자 영역이 제대로 변형되지 않을 수 있음")

print("\n3. 원래 목표와의 차이:")
print("   - 원래 목표: 눈동자 포인트 10개 → 중앙 포인트 2개로 대체")
print("   - 방법 3: contour 8개 제거 + 중심점 2개 유지 + 중앙 포인트 2개 추가")
print("   - 총 4개 포인트가 눈동자 영역에 있음 (468, 473, 470, 471)")

print("\n[해결 방법]")
print("방법 A: 중심점 인덱스(468, 473)도 제거하고 계산된 중앙 포인트만 사용")
print("  - contour 8개 + 중심점 2개 = 10개 모두 제거")
print("  - 계산된 중앙 포인트 2개만 추가")
print("  - 드래그 시 계산된 중앙 포인트 좌표만 업데이트")
print("  - Delaunay에 전달 시 계산된 좌표 사용")
print("  - 장점: 원래 목표와 일치, 눈동자 전체가 중앙 포인트 기준으로 이동")
print("  - 단점: 계산 필요, 매핑 테이블 필요")

print("\n방법 B: 중심점 인덱스(468, 473) 유지 + 계산된 중앙 포인트 추가 (현재 방식)")
print("  - contour 8개만 제거")
print("  - 중심점 인덱스 468, 473 유지")
print("  - 계산된 중앙 포인트 2개 추가")
print("  - 드래그 시 중심점 인덱스와 계산된 중앙 포인트 모두 업데이트")
print("  - 장점: 중심점 인덱스도 활용 가능")
print("  - 단점: 4개 포인트가 있어서 복잡, 계산 필요")

print("\n방법 C: 중심점 인덱스(468, 473)만 사용 (계획서 방법)")
print("  - contour 8개만 제거")
print("  - 중심점 인덱스 468, 473만 사용 (계산 불필요)")
print("  - 드래그 시 중심점 인덱스만 업데이트")
print("  - 장점: 계산 불필요, 가장 단순")
print("  - 단점: 중심점만 이동하면 눈동자 전체가 이동하지 않을 수 있음")

print("\n" + "=" * 80)
print("결론")
print("=" * 80)
print("중심점 인덱스(468, 473)만 이동하면:")
print("  - Delaunay Triangulation에서 중심점을 포함하는 삼각형들이 변형됨")
print("  - 하지만 contour 포인트가 없어서 눈동자 영역이 제대로 변형되지 않을 수 있음")
print("  - 눈동자 전체가 이동하려면 주변 포인트들도 함께 이동해야 함")
print("\n추천: 방법 A (10개 모두 제거 + 계산된 중앙 포인트 2개만 사용)")
print("  - 원래 목표와 일치")
print("  - 눈동자 전체가 중앙 포인트 기준으로 이동")
print("  - 계산은 필요하지만 매핑 테이블로 해결 가능")
